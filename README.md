# Fuel-Optimal Fleet Assignment in the Brazilian Domestic Air Transportation System

In this repository, we provide an overview of the processed datasets and optimization code behind the fuel-optimal fleet assignment (FOFA) model, and detail its implementation on the domestic Brazilian air transportation system as a case study.

## Fuel-Optimal Fleet Assignment (FOFA) Model

### Table of Contents

1. [ Processed Datasets ](#importing)
2. [ Optimization Code ](#building)

---
<a name="importing"></a>
### 1: Processed Datasets

**Description:** The optimization model takes nine datasets as inputs. Detailed below, these were generated by processing [monthly data](https://www.gov.br/anac/pt-br/assuntos/regulados/empresas-aereas/Instrucoes-para-a-elaboracao-e-apresentacao-das-demonstracoes-contabeis/envio-de-informacoes) from the Brazilian National Civil Aviation Agency (ANAC), corresponding to all of 2024. Additional information about the ANAC datasets can be found [here](https://www.gov.br/anac/pt-br/assuntos/dados-e-estatisticas/mercado-do-transporte-aereo/demanda-e-oferta).

* __Aircraft Operational and Performance Statistics__:
- ```Aircraft Statistics.xlsx```: This table contains ten operational performance characteristics for 19 different aircraft types that operated domestically in Brazil during 2024.
  - Operational Performance Characteristics: (1) fleet-wide count; (2) fleet-wide yearly flying times (in days); (3) fleet-wide productivity (in ASKs/day); (4) fuel burn (in L/hr); (5) fuel burn (in L/km); (6) fuel burn (in L/RPK); (7) average number of seats; (8) average stage length (in km); (9) range (in km); and (10) take-off runway length (in m).
  - Aircraft Types: A320NEO; A321NEO; A319CEO; A320CEO; A321CEO; A330-200; A330-900; ATR42-500; ATR72-500; ATR72-600; B737-8; B737-800; B737-500; B737-700; B737-800; B787-9; C208; E195; and E195-E2.
  
* ```Airport Codes.xlsm```: This table contains the ICAO and IATA code, as well as latitude, longitude, and primary runway length (in m) of 169 airports in Brazil (indexed 1 through 169). For example, for Rio de Janeiro Galeao, Index: 34, ICAO Code: SBGL; IATA Code: GIG; Latitute: -22.81; Longitude: -43.25; and Primary Runway Length: 4000m.
  
* ```daily_aircraft_flying_times.csv```: This 19-by-366 matrix contains the total fleet-wide flying times (in days) for each of the 19 different aircraft types and each day of 2024 (indexed 1 through 366). For example, for January 1st and the A320NEO, (1,1), the fleet flew a cumulative amount of 21.84 days, or 524 hours (i.e., 524/65 = ~8 hours/day).
  
* ```daily_fuel_consumed.csv```: This 1417-by-366 matrix contains the total fuel consumed (in L) on each of the identified route segments with at least one flight during 2024 (indexed 1 through 1417) for each day of the year.
  
* ```daily_route_passengers.csv```: This 1417-by-366 matrix contains the total number of passengers that were transported on each of the identified 1417 routes.
  
* ```metrics.csv```: This 2-by-266 matrix contains the total available seat-kms (ASKs) and total revenue passenger-kms (RPKs) produced on a daily basis in the Brazilian Air Transportation System.
  
* ```route_airport_index.csv```: This 1417-by-2 matrix contains the mapping between each of the idenfied routes with at least one flight during 2024, and their respective origin and destination airports (indexed 1 through 169). For example, route #1 operated between airport #1 (ARX) and airport #33 (FOR).
  
* ```route_distances.csv```: This 1417-by-1 matrix contains the average distance (in km) for each of the identified routes.
  
* ```route_flight_times.csv```: This 1417-by-1 matrix contains the average flight time (in days) for each of the identified routes. For example, for route #1, the average flight time is 0.028 days, or ~40 minutes.

([ back to top ](#back_to_top))

---
<a name="building"></a>
### 2: Optimization Code

**Description:** The FOFA framework is implemented on the python scrypt ```FOFA_v2.py```. 
* The model can be run separately for the three largest airlines in Brazil by available seat-kms (ASKs) - Azul Linhas Aereas Brasileiras, Gol Linhas Aereas, LATAM Brasil - or on aggregate considering al eight Brazilian domestic airlines, in the form of a Combined Brazilian National Airline.
* To avoid making assumptions about what a representative day of operations looks like (e.g., in terms of the average daily number of passengers transported on each route, or average daily fleet utilization), the model is run on a yearly basis, aggregating values for the entirety of 2024. This modeling decision not only has the advantage of incorporating seasonality effects, but also enables building a feasible integer solution region.

**User Action:** To run the code, simply download ```FOFA_v2.py```, alongside the [Processed Datasets](https://github.com/andyeske/FOAA/tree/main/Processed%20Datasets) folders. The python scrypt requires the use of a [Gurobi](https://www.gurobi.com/academia/academic-program-and-licenses/?utm_source=google&utm_medium=cpc&utm_campaign=M3+A+Search+US+Brand&gad_source=1&gad_campaignid=22845995653&gbraid=0AAAAADimQ3jj4Ag29wWuPvh0gcP5gZAed&gclid=Cj0KCQjwgpzIBhCOARIsABZm7vGEZgRpIldNBFiA50gIS_sXEFHWZnGlusO4OP9ZU0IxiBviV5hoi9gaAhnOEALw_wcB) license, which can be obtained for free for students.

```FOFA_v2.py``` requires minimal user set-up - once open in a python environment, only the 'Step 0' section requires user-editing. Here, the user can appropriately change the dataset directories, select the airline, and modifiy the sensitivity vector for the load factors:

  ```
# ------------------------------------------------ #
# Step 0: User-editable Parameters
# ------------------------------------------------ #

# --> Data Directory 
directory = '/Users/andyeske/Desktop/Fall 2025/Optimization Methods/Project/Processed Datasets/'

# --> System-wide Load Factor Sensitivity Vector
# LF_vec = [0.83,0.84,0.85,0.86,0.87,0.88,0.89,0.9]
LF_vec = [0.83]

# --> Desired Airline
# Options: 
# (1): AD - Azul Linhas Aereas Brasileiras 
#      8 aircraft types, 30.2% market share by ASKs

# (2): G3 - GOL Linhas Aereas
#      3 aircraft types, 30.5% market share by ASKs

# (3): JJ - LATAM Brasil 
#      6 aircraft types, 38.7% market share by ASKs

# (4): Combined Brazilian National Airline (19 aircraft types)
#      19 aircraft types, including aicraft from:
#      -> 0S - Sideral Linhas Aereas
#      -> 2F - Azul Conecta
#      -> 2Z - Voepass
#      -> 7M - MAP Linhas Aereas
#      -> E4 - Abaete Aviacao

Option = 1

  ```

Depending on the problem complexity, it could be useful to edit some of the Gurobi solver parameters detailed in 'Step 2'.

([ back to top ](#back_to_top))

## Authors

Andy Eskenazi, Emilia Ospina Arango, Mina Cezairli <br />
Department of Aeronautics and Astronautics <br />
Massachusetts Institute of Technology, 2025 <br />
